<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>タイプ診断グラフ</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>
  <h1>タイプ診断グラフ</h1>

  <form method="POST">
    <label for="input_text">12項目の数値（スペース区切りで1行ずつ）を入力：</label><br>
    <textarea name="input_text" id="input_text" required
              placeholder="例：25 18 28 19 23 11 7 12 1 5 21 28">{{ input_text }}</textarea><br><br>

    {% if charts %}
      <!-- PDFタイトル：グラフ生成後に表示 -->
      <label for="pdf_title">PDF用タイトル：</label><br>
      <input type="text" name="pdf_title" id="pdf_title"
             placeholder="例：2025年度 上司タイプ診断結果"
             value="{{ pdf_title }}"><br><br>
    {% endif %}

    <button type="submit" class="button">グラフ生成</button>
  </form>

  {% if charts %}
    <br>
    <a href="/download_pdf" class="button">📥 PDFでダウンロード</a>
    {% for chart in charts %}
      <img src="{{ chart }}" alt="診断グラフ">
    {% endfor %}
  {% endif %}

  {% if error %}
    <p style="color: red;">{{ error }}</p>
  {% endif %}
</body>
</html>
